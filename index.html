<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>Happy 2nd Anniversary!</title>
    <style>
        /* Styles for Body and Background */
        body {
            margin: 0;
            font-family: 'Comic Sans MS', cursive, sans-serif;
            background: linear-gradient(to bottom, #ffecd2 0%, #fcb69f 100%);
            overflow-x: hidden;
        }

        .stars {
            position: absolute;
            width: 100%;
            height: 100%;
            background: transparent;
            overflow: hidden;
            z-index: -1;
        }

        .star {
            position: absolute;
            width: 2px;
            height: 2px;
            background: white;
            animation: twinkle 2s infinite ease-in-out;
        }

        @keyframes twinkle {
            0%, 100% { opacity: 0.2; }
            50% { opacity: 1; }
        }

        .container {
            position: relative;
            text-align: center;
            padding-top: 50px;
            z-index: 1;
        }

        h1 {
            color: #ff6f61;
            font-size: 48px;
            text-shadow: 2px 2px #ffa07a;
        }

        .heart {
            color: #ff6f61;
            font-size: 100px;
            animation: beat 1s infinite alternate;
        }

        @keyframes beat {
            to { transform: scale(1.1); }
        }

        /* Styles for Message Section */
        .message-section {
            margin: 50px auto;
            width: 80%;
            font-size: 24px;
            line-height: 1.5;
            color: #ff6f61;
            display: flex;
            flex-wrap: wrap;
            justify-content: center;
        }

        .message-word {
            opacity: 0;
            transition: opacity 1s;
            margin: 5px;
        }

        .message-word.visible {
            opacity: 1;
        }

        /* Styles for Goals Section */
        .goals-section {
            margin: 50px auto;
            width: 80%;
            opacity: 0;
            transform: translateY(20px);
            transition: opacity 2s, transform 1s;
        }

        .goals-section.visible {
            opacity: 1;
            transform: translateY(0);
        }

        .goals-section h2 {
            font-size: 32px;
            color: #ff6f61;
            margin-bottom: 20px;
        }

        .goals-table {
            width: 100%;
            border-collapse: collapse;
            font-size: 18px;
        }

        .goals-table th, .goals-table td {
            border: 1px solid #ffa07a;
            padding: 12px;
            text-align: center;
        }

        .goals-table th {
            background-color: #ffecd2;
            color: #ff6f61;
        }

        .goals-table td {
            background-color: #fff5ee;
        }

        .goals-table tr:hover {
            background-color: #ffe4e1;
            transition: background-color 0.3s;
        }

        .goals-table td:first-child {
            font-weight: bold;
        }

        .goals-table td:last-child {
            font-size: 24px;
        }

        /* Styles for Section Intro Text */
        .section-intro {
            margin: 50px auto;
            width: 80%;
            font-size: 24px;
            line-height: 1.5;
            color: #ff6f61;
            opacity: 1;
            transform: translateY(20px);
            transition: opacity 2s, transform 1s;
            text-align: center;
        }

        .section-intro.visible {
            opacity: 1;
            transform: translateY(0);
        }

        /* Styles for Book Album */
        .album-container {
            margin: 50px auto;
            width: 600px;
            height: 400px;
            perspective: 2000px;
        }

        .book {
            width: 100%;
            height: 100%;
            position: relative;
            transform-style: preserve-3d;
        }

        .cover {
            position: absolute;
            width: 100%;
            height: 100%;
            background: #ff6f61;
            color: white;
            display: flex;
            align-items: center;
            justify-content: center;
            backface-visibility: hidden;
            cursor: pointer;
            font-size: 36px;
            border: 2px solid #ffa07a;
            box-shadow: 5px 5px 15px rgba(0,0,0,0.3);
            transform-origin: left;
            transition: transform 1s;
            z-index: 100;
        }

        .cover.front {
            left: 0;
        }

        .cover.back {
            left: 50%;
            width: 50%;
            transform: rotateY(-180deg);
            z-index: 0;
        }

        .pages {
            position: absolute;
            width: 50%;
            height: 100%;
            left: 50%;
            transform-style: preserve-3d;
            transform-origin: left;
        }

        .page {
            position: absolute;
            width: 100%;
            height: 100%;
            background: #fdf5e6;
            border-left: 1px solid #ffa07a;
            box-shadow: 0 0 5px rgba(0,0,0,0.1);
            overflow: hidden;
            transform-origin: left;
            transition: transform 1s;
            transform-style: preserve-3d;
        }

        .page .front,
        .page .back {
            position: absolute;
            width: 100%;
            height: 100%;
            backface-visibility: hidden;
        }

        .page .front {
            display: flex;
            justify-content: center;
            align-items: center;
        }

        .page .back {
            background-color: #fdf5e6;
            transform: rotateY(180deg);
            display: flex;
            justify-content: center;
            align-items: center;
        }

        .back-content {
            text-align: center;
            color: #555;
            font-size: 18px;
            padding: 20px;
        }

        /* Polaroid effect styles */
        .polaroid {
            display: flex;
            justify-content: center;
            background: white;
            padding: 10px 10px 30px 10px;
            box-shadow: 0 3px 6px rgba(0,0,0,0.1);
            position: relative;
            width: 80%;
            max-width: 400px;
        }

        .polaroid img {
            width: 80%;
            display: block;
        }

        .polaroid .caption {
            position: absolute;
            bottom: 10px;
            left: 0;
            width: 100%;
            text-align: center;
            font-size: 14px;
            color: #333;
        }

        .navigation {
            position: absolute;
            top: 50%;
            width: 50px;
            height: 50px;
            background: rgba(255, 255, 255, 0.7);
            color: #ff6f61;
            font-size: 30px;
            display: flex;
            justify-content: center;
            align-items: center;
            cursor: pointer;
            user-select: none;
            border-radius: 50%;
            transform: translateY(-50%);
            z-index: 101;
        }

        .nav-left {
            left: -25px;
        }

        .nav-right {
            right: -25px;
        }

        /* Styles for Dreams Section */
        .dreams {
            display: none;
            opacity: 0;
            transition: opacity 2s;
            margin: 50px auto;
            width: 80%;
        }

        .dreams.visible {
            display: block;
            opacity: 1;
        }

        .dreams h2 {
            font-size: 32px;
            color: #ff6f61;
            margin-bottom: 20px;
        }

        .dreams table {
            width: 100%;
            border-collapse: collapse;
            font-size: 18px;
        }

        .dreams th, .dreams td {
            border: 1px solid #ffa07a;
            padding: 10px;
            text-align: center;
        }

        .dreams th {
            background-color: #ffecd2;
            color: #ff6f61;
        }

        .dreams td {
            background-color: #fff5ee;
        }

        /* Styles for Handheld Console (Snake Game) */
        .console {
            margin: 50px auto;
            width: 300px;
            height: 500px;
            background: #C0C0C0;
            border: 10px solid #888;
            border-radius: 20px;
            position: relative;
        }

        .screen {
            width: 260px;
            height: 260px;
            background: #9BBC0F;
            margin: 20px auto 0;
            border: 4px inset #666;
        }

        #snakeGame {
            display: block;
            margin: 0 auto;
            background-color: #9BBC0F;
        }

        .dpad {
            width: 100px;
            height: 100px;
            position: absolute;
            bottom: 60px;
            left: 50%;
            transform: translateX(-50%);
        }

        .dpad button {
            background: #555;
            border: none;
            width: 30px;
            height: 30px;
            position: absolute;
            color: white;
            font-size: 18px;
            cursor: pointer;
            border-radius: 5px;
        }

        .dpad .up {
            top: 0;
            left: 35px;
        }

        .dpad .down {
            bottom: 0;
            left: 35px;
        }

        .dpad .left {
            left: 0;
            top: 35px;
        }

        .dpad .right {
            right: 0;
            top: 35px;
        }

        /* Styles for Start Button */
        .start-button {
            position: absolute;
            bottom: 20px;
            left: 50%;
            transform: translateX(-50%);
            background-color: #ff6f61;
            border: none;
            color: white;
            padding: 10px 20px;
            text-align: center;
            font-size: 18px;
            cursor: pointer;
            border-radius: 8px;
        }

        .start-button:hover {
            background-color: #ff8a75;
        }

        /* Styles for Gift Message */
        #gift {
            display: none;
            color: #ff6f61;
            font-size: 24px;
            margin-top: 20px;
        }

        /* Styles for Final Section */
        .final-section {
            margin: 50px auto;
            width: 80%;
            font-size: 26px;
            line-height: 1.6;
            color: #ff6f61;
            opacity: 1;
            transform: translateY(20px);
            transition: opacity 2s, transform 1s;
            text-align: center;
        }

        .final-section.visible {
            opacity: 1;
            transform: translateY(0);
        }
    </style>
</head>
<body>
    <div class="stars" id="stars"></div>
    <div class="container">
        <h1>Happy 2nd Anniversary!</h1>
        <div class="heart">❤️</div>
        <p>We've shared two amazing years together filled with joy and love.</p>

        <!-- Message Section -->
        <div class="message-section" id="messageSection">
            <!-- Words will be injected here by JavaScript -->
        </div>

        <!-- Goals Section -->
        <div class="goals-section" id="goalsSection">
            <h2>Our Goals to Achieve 🥅</h2>
            <table class="goals-table">
                <tr>
                    <th>No.</th>
                    <th>Goal</th>
                    <th>Deadline</th>
                    <th>Emoji</th>
                </tr>
                <tr>
                    <td>1</td>
                    <td>TOEFL Test! 🌐</td>
                    <td>End of this year</td>
                    <td>📚</td>
                </tr>
                <tr>
                    <td>2</td>
                    <td>Start our own side hustle business 🌐🏃‍♂️🏃‍♀️</td>
                    <td>Before end of this year!</td>
                    <td>🥇</td>
                </tr>
                <tr>
                    <td>3</td>
                    <td>S2</td>
                    <td>Within 2 years</td>
                    <td>🧑🏻‍🎓👩🏻‍🎓</td>
                </tr>
                <tr>
                    <td>4</td>
                    <td>Buying our first Assets (which is house)!</td>
                    <td>Within 2-3 Years</td>
                    <td>🏠</td>
                </tr>
                <tr>
                    <td>5</td>
                    <td>Plan our serious relationship!</td>
                    <td>We make sure we prepare !</td>
                    <td>💒</td>
                </tr>
                <!-- Add more goals as needed -->
            </table>
        </div>

        <!-- Album Intro Text -->
        <div class="section-intro" id="albumIntro">
            <p>This is a mini album of us from October 2023 - September 2024, I hope you cherish everything.</p>
        </div>

        <!-- Book Album Section -->
        <div class="album-container" id="albumContainer">
            <div class="book" id="book">
                <!-- Book Cover Front -->
                <div class="cover front" id="coverFront">Our Memories 📖</div>
                <!-- Book Pages -->
                <div class="pages" id="pagesContainer">
                    <!-- Page 1 -->
                    <div class="page" id="page1">
                        <div class="front">
                            <div class="polaroid">
                                <img src="images/1.jpeg" alt="Photo 1">
                                <div class="caption">Sea World</div>
                            </div>
                        </div>
                        <div class="back">
                            <div class="back-content">
                                <p>Remember this day?</p>
                            </div>
                        </div>
                    </div>
                    <!-- Page 2 -->
                    <div class="page" id="page2">
                        <div class="front">
                            <div class="polaroid">
                                <img src="images/2.jpeg" alt="Photo 2">
                                <div class="caption">Pemberkatan Cici</div>
                            </div>
                        </div>
                        <div class="back">
                            <div class="back-content">
                                <p>Such a beautiful place!</p>
                            </div>
                        </div>
                    </div>
                    <!-- Page 3 -->
                    <div class="page" id="page3">
                        <div class="front">
                            <div class="polaroid">
                                <img src="images/3.jpeg" alt="Photo 3">
                                <div class="caption">Van Gogh!</div>
                            </div>
                        </div>
                        <div class="back">
                            <div class="back-content">
                                <p>Looking forward to many more!</p>
                            </div>
                        </div>
                    </div>
                    <!-- Page 4 -->
                    <div class="page" id="page4">
                        <div class="front">
                            <div class="polaroid">
                                <img src="images/4.jpeg" alt="Photo 4" height="330px" width="">
                                <div class="caption">Our trip to Ragunan!</div>
                            </div>
                        </div>
                        <div class="back">
                            <div class="back-content">
                                <p>Can't wait for our future adventures!</p>
                            </div>
                        </div>
                    </div>

                    <div class="page" id="page5">
                        <div class="front">
                            <div class="polaroid">
                                <div class="caption">And Many More! To be continued!</div>
                            </div>
                        </div>
                        <div class="back">
                            <div class="back-content">
                                <p>Can't wait for our future adventures!</p>
                            </div>
                        </div>
                    </div>
                    <!-- Add more pages as needed -->
                </div>
                <!-- Book Cover Back (for effect) -->
                <div class="cover back" id="coverBack"></div>
            </div>
            <!-- Navigation Arrows -->
            <div class="navigation nav-left" id="navLeft">❮</div>
            <div class="navigation nav-right" id="navRight">❯</div>
        </div>


        <!-- Snake Game Intro Text -->
        <div class="section-intro" id="snakeIntro">
            <p>I added a little mini game, I'm sorry if it's buggy, but if you somehow find a way to beat it, it will reveal the secret gift I was talking about.</p>
        </div>

        <!-- Snake Game Section -->
        <div class="console" id="console">
            <div class="screen">
                <canvas id="snakeGame" width="260" height="260"></canvas>
            </div>
            <div class="dpad">
                <button class="up" onclick="changeDirection('UP')">▲</button>
                <button class="down" onclick="changeDirection('DOWN')">▼</button>
                <button class="left" onclick="changeDirection('LEFT')">◀️</button>
                <button class="right" onclick="changeDirection('RIGHT')">▶️</button>
            </div>
            <button class="start-button" onclick="startGame()">Start</button>
        </div>

        <div id="gift">
            🎁 Surprise! Your secret gift is a dance pad! Let's dance together! 💃🕺
        </div>

        <!-- Final Section -->
        <div class="final-section" id="finalSection">
            <p>As we close this chapter and look forward to the future, I want you to know that every moment with you is a treasure. Thank you for being the most important part of my life. Here's to countless more memories together. I love you. ❤️</p>
        </div>
    </div>

    <script>
        // Star Shower Effect
        function createStars() {
            const starsContainer = document.getElementById('stars');
            for (let i = 0; i < 100; i++) {
                let star = document.createElement('div');
                star.classList.add('star');
                star.style.left = Math.random() * 100 + '%';
                star.style.top = Math.random() * 100 + '%';
                star.style.animationDelay = Math.random() * 2 + 's';
                starsContainer.appendChild(star);
            }
        }

        createStars();

        // Book Album Functionality
        let currentPage = -1; // Start with cover closed
        const pages = document.querySelectorAll('.page');
        const totalPages = pages.length;

        const coverFront = document.getElementById('coverFront');
        const coverBack = document.getElementById('coverBack');
        const pagesContainer = document.getElementById('pagesContainer');
        const navLeft = document.getElementById('navLeft');
        const navRight = document.getElementById('navRight');

        // Initialize Album
        coverFront.style.transform = 'rotateY(0deg)'; // Cover is closed
        navLeft.style.display = 'none';
        navRight.style.display = 'none';

        // Do not set z-index initially; we'll handle it dynamically
        showPagesUpTo(currentPage);

        // Event listener to open the cover
        coverFront.addEventListener('click', function() {
            coverFront.style.transform = 'rotateY(-180deg)';
            navLeft.style.display = 'block';
            navRight.style.display = 'block';
            currentPage = -1;
        });

        function showPagesUpTo(index) {
            pages.forEach((page, i) => {
                if (i <= index) {
                    page.style.transform = 'rotateY(-180deg)';
                    page.style.zIndex = i + 1; // Lower z-index for turned pages
                } else {
                    page.style.transform = 'rotateY(0deg)';
                    page.style.zIndex = totalPages - i; // Higher z-index for unturned pages
                }
            });
        }

        navRight.addEventListener('click', function() {
            if (currentPage < totalPages - 1) {
                currentPage++;
                showPagesUpTo(currentPage);
            } else {

                // Show Snake Game Intro after Dreams Section
                setTimeout(() => {
                    document.getElementById('snakeIntro').classList.add('visible');
                }, 1000); // Adjust timing as needed
            }
        });

        navLeft.addEventListener('click', function() {
            if (currentPage > -1) {
                currentPage--;
                showPagesUpTo(currentPage);
                navRight.style.display = 'block';
            }
            if (currentPage === -1) {
                // Close the cover
                coverFront.style.transform = 'rotateY(0deg)';
                navLeft.style.display = 'none';
                navRight.style.display = 'none';
            }
        });

        // Message Section Functionality
        const message = "This year, there's a lot of story, laugh, anger, sadness, but we keep going strong, 2 years isn't short, but we able to manage it! So, thank you! 😊❤️";
        const messageSection = document.getElementById('messageSection');
        const words = message.split(' ');

        words.forEach((word, index) => {
            const span = document.createElement('span');
            span.classList.add('message-word');
            span.textContent = word + ' ';
            messageSection.appendChild(span);

            // Fade-in effect
            setTimeout(() => {
                span.classList.add('visible');
            }, 500 * index);
        });

        // Show Goals Section after Message
        setTimeout(() => {
            document.getElementById('goalsSection').classList.add('visible');
        }, 500 * words.length + 1000); // Adjust timing to appear after message animation

        // Show Album Intro after Goals Section
        setTimeout(() => {
            document.getElementById('albumIntro').classList.add('visible');
        }, 500 * words.length + 2000); // Adjust timing as needed

        // Snake Game with D-Pad Controls
        const canvas = document.getElementById('snakeGame');
        const ctx = canvas.getContext('2d');
        const GRID_SIZE = 13;
        const box = canvas.width / GRID_SIZE;
        let snake = [];
        snake[0] = {
            x: 6 * box,
            y: 6 * box
        };
        let food = generateFood();
        let direction = 'RIGHT';
        let game;

        document.addEventListener('keydown', directionControl);

        function startGame() {
            document.querySelector('.start-button').style.display = 'none';
            game = setInterval(draw, 150); // Adjust the speed as needed
        }

        function directionControl(event) {
            if (event.key === 'ArrowLeft' && direction !== 'RIGHT') direction = 'LEFT';
            else if (event.key === 'ArrowUp' && direction !== 'DOWN') direction = 'UP';
            else if (event.key === 'ArrowRight' && direction !== 'LEFT') direction = 'RIGHT';
            else if (event.key === 'ArrowDown' && direction !== 'UP') direction = 'DOWN';
        }

        function changeDirection(dir) {
            if (dir === 'LEFT' && direction !== 'RIGHT') direction = 'LEFT';
            else if (dir === 'UP' && direction !== 'DOWN') direction = 'UP';
            else if (dir === 'RIGHT' && direction !== 'LEFT') direction = 'RIGHT';
            else if (dir === 'DOWN' && direction !== 'UP') direction = 'DOWN';
        }

        let score = 0; // Initialize score to 0

function draw() {
    ctx.clearRect(0, 0, canvas.width, canvas.height);
    ctx.fillStyle = '#9BBC0F';
    ctx.fillRect(0, 0, canvas.width, canvas.height);

    for (let i = 0; i < snake.length; i++) {
        ctx.fillStyle = i === 0 ? '#0F380F' : '#306230';
        ctx.fillRect(snake[i].x, snake[i].y, box, box);
        ctx.strokeStyle = '#8BAC0F';
        ctx.strokeRect(snake[i].x, snake[i].y, box, box);
    }

    ctx.fillStyle = '#8BAC0F';
    ctx.fillRect(food.x, food.y, box, box);

    let snakeX = snake[0].x;
    let snakeY = snake[0].y;

    if (direction === 'LEFT') snakeX -= box;
    if (direction === 'UP') snakeY -= box;
    if (direction === 'RIGHT') snakeX += box;
    if (direction === 'DOWN') snakeY += box;

    // Game over conditions
    if (
        snakeX < 0 ||
        snakeX >= canvas.width ||
        snakeY < 0 ||
        snakeY >= canvas.height ||
        collision({ x: snakeX, y: snakeY }, snake)
    ) {
        clearInterval(game);
        alert('Game Over');
        resetGame();
        return;
    }

    if (snakeX === food.x && snakeY === food.y) {
        food = generateFood();
        score++; // Increase the score when the snake eats the food

        // Check if the score reaches 5 points
        if (score === 5) {
            clearInterval(game);
            alert('You Win!');
            revealGift(); // Reveal the gift when the player wins
            return;
        }

        // The snake grows; do not remove the tail
    } else {
        snake.pop(); // Remove the tail
    }

    let newHead = {
        x: snakeX,
        y: snakeY
    };

    snake.unshift(newHead);
}
        function collision(head, array) {
            for (let i = 1; i < array.length; i++) {
                if (head.x === array[i].x && head.y === array[i].y) {
                    return true;
                }
            }
            return false;
        }

        function resetGame() {
            document.querySelector('.start-button').style.display = 'block';
            snake = [];
            snake[0] = {
                x: 6 * box,
                y: 6 * box
            };
            food = generateFood();
            direction = 'RIGHT';
            clearInterval(game);
            ctx.clearRect(0, 0, canvas.width, canvas.height);
        }

        function revealGift() {
            document.getElementById('gift').style.display = 'block';
            showFinalSection(); // Show the final heartfelt message
        }

        function generateFood() {
            let foodX, foodY;
            do {
                foodX = Math.floor(Math.random() * GRID_SIZE) * box;
                foodY = Math.floor(Math.random() * GRID_SIZE) * box;
            } while (collision({ x: foodX, y: foodY }, snake));
            return { x: foodX, y: foodY };
        }

        // Show Final Section after the gift is revealed
        function showFinalSection() {
            document.getElementById('finalSection').classList.add('visible');
        }
    </script>
</body>
</html>
